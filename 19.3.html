<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>19.3</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      input {
        width: 30px;
        height: 30px;
      }
      /* button {
        padding: auto;
        margin: auto;
      } */
    </style>
  </head>
  <body>
    <h2>text to copy: 123456</h2>
    <div>
      <form action="">
        <div class="digits-container">
          <input name="first" id="first" type="text" />
          <input name="second" id="second" type="text" />
          <input name="third" id="third" type="text" />
          <input name="forth" id="forth" type="text" />
          <input name="fifth" id="fifth" type="text" />
          <input name="sixth" id="sixth" type="text" />
        </div>
        <button>submit</button>
      </form>
    </div>
  </body>
  <script>
    const form = document.querySelector("form");
    const inputs = document.querySelectorAll("input");

    const onPaste = () => {
      const paste =
        (event.clipboardData || window.clipboardData).getData("text") + "";
      const number = paste.split("");

      inputs.forEach((input, i) => {
        console.log(input, i);
        if (number[i]) {
          input.value = number[i];
        }
      });

      if (lastInput.value.length >= 1) {
        console.log("o");
        form.submit();
      }
      event.preventDefault();
    };

    inputs.forEach((input, i) => {
      var nextInput = inputs[i + 1];
      var lastInput = inputs[inputs.length - 1];
      input.addEventListener("input", (e) => {
        if (e.target.value >= 1) {
          if (nextInput) {
            nextInput.focus();
          }
        }
        // if (lastInput.value.length >= 1) {
        //   console.log("o");
        //   form.submit();
        // }
        const allValuesFull = [...inputs].every(
          (input) => input.value && Number(input.value)
        );
        if (allValuesFull) {
          form.submit();
        }
      });
      input.addEventListener("paste", onPaste);
    });
  </script>
</html>
